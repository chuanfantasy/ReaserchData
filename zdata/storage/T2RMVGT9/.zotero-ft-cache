计算机集成制造系统

第 ２７ 卷 第 ２ 期 ２　０　２　１ 年２月

计算机集成制造系统
Ｃｏｍｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ　Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｓｙｓｔｅｍｓ　

ＤＯＩ：１０．１３１９６／ｊ．ｃｉｍｓ．２０２１．０２．００４

第 ２７ 卷
Ｖｏｌ．２７ Ｎｏ．２ Ｆｅｂ．２　０　２　１

基于实时数据驱动的数字孪生车间研究及实现

魏一雄１，２，郭　磊１，２，陈亮希１，２，张红旗１，２，胡祥涛３＋ ，周红桥１，２，李　广１，２
（１．中国电子科技集团公司 第三十八研究所，安徽　合肥　２３００８８； ２．安徽省技术标准创新基地（智能设计与制造 智慧院所 军民融合），安徽　合肥　２３００８８；
３．安徽大学 电气工程与自动化学院，安徽　合肥　２３０６０１）

摘　要：为满足智能车间生产状态实时可视化监 控、健 康 管 理、故 障 诊 断 等 需 求，提 出 一 种 基 于 实 时 数 据 驱 动 的数字孪生车间体系架构与技术路线。通过搭建面向真实物理行为高保真映射 的 虚 拟 仿 真 环 境 ，采 用 面 向 事 件 响 应的数据管理方法构建模块化、通用化的数字孪生 车 间 系 统。 在 此 基 础 上，详 细 阐 述 了 异 构 多 源 数 据 的 采 集 与 管 理、真实物理行为的虚拟仿真环境、面向事件响应的数据实时驱动方法等关键 技 术。 设 计 了 原 型 系 统，并 通 过 车 载 防 撞 雷 达 组 装 生 产 线 成 功 验 证 其 可 行 性 ，为 数 字 孪 生 技 术 在 智 能 制 造 领 域 的 应 用 提 供 了 关 键 支 撑 。
关 键 词 ：数 字 孪 生 ；数 据 驱 动 ；高 保 真 映 射 ；事 件 响 应 ；智 能 车 间 中 图 分 类 号 ：ＴＰ３０１．６　 　 　 文 献 标 识 码 ：Ａ
Ｒｅｓｅａｒｃｈ　ａｎｄ　ｉｍｐｌｅｍｅｎｔａｔｉｏｎ　ｏｆ　ｄｉｇｉｔａｌ　ｔｗｉｎ　ｗｏｒｋｓｈｏｐ　ｂａｓｅｄ　ｏｎ　ｒｅａｌ－ｔｉｍｅ　ｄａｔａ　ｄｒｉｖｅｎ
ＷＥＩ　Ｙｉｘｉｏｎｇ１，２，ＧＵＯ　Ｌｅｉ１，２，ＣＨＥＮ　Ｌｉａｎｇｘｉ１，２，ＺＨＡＮＧ　Ｈｏｎｇｑｉ１，２，ＨＵ　Ｘｉａｎｇｔａｏ３＋ ， ＺＨＯＵ 　Ｈｏｎｇｑｉａｏ１，２ ，ＬＩ　Ｇｕａｎｇ１，２
（１．Ｎｏ．３８Ｒｅｓｅａｒｃｈ　Ｉｎｓｔｉｔｕｔｅ　ｏｆ　ＣＥＴＣ，Ｈｅｆｅｉ　２３００８８，Ｃｈｉｎａ； ２．Ａｎｈｕｉ　Ｔｅｃｈｎｉｃａｌ　Ｓｔａｎｄａｒｄ　Ｉｎｎｏｖａｔｉｏｎ　Ｂａｓｅ （Ｉｎｔｅｌｌｉｇｅｎｔ　Ｄｅｓｉｇｎ　ａｎｄ　Ｍａｎｕｆａｃｔｕｒｉｎｇ，
Ｉｎｔｅｌｌｉｇｅｎｃｅ　Ｉｎｓｔｉｔｕｔｅ，Ｃｉｖｉｌ－ｍｉｌｉｔａｒｙ　Ｉｎｔｅｇｒａｔｉｏｎ），Ｈｅｆｅｉ　２３００８８，Ｃｈｉｎａ； ３．Ｓｃｈｏｏｌ　ｏｆ　Ｅｌｅｃｔｒｉｃａｌ　Ｅｎｇｉｎｅｅｒｉｎｇ　ａｎｄ　Ａｕｔｏｍａｔｉｏｎ，Ａｎｈｕｉ　Ｕｎｉｖｅｒｓｉｔｙ，Ｈｅｆｅｉ　２３０６０１，Ｃｈｉｎａ） Ａｂｓｔｒａｃｔ：Ｗｉｔｈ　ｔｈｅ　ｒｅｑｕｉｒｅｍｅｎｔｓ　ｏｆ　ｒｅａｌ－ｔｉｍｅ　ｖｉｓｕａｌ　ｍｏｎｉｔｏｒｉｎｇ，ｈｅａｌｔｈ　ｍａｎａｇｅｍｅｎｔ　ａｎｄ　ｆａｕｌｔ　ｄｉａｇｎｏｓｉｓ　ｏｆ　ｔｈｅ　ｉｎｔｅｌｌｉ－ ｇｅｎｔ　ｗｏｒｋｓｈｏｐ，ｔｈｅ　ｆｒａｍｅｗｏｒｋ　ａｎｄ　ｒｏｕｔｅ　ｏｆ　ｄｉｇｉｔａｌ　ｔｗｉｎ　ｗｏｒｋｓｈｏｐ　ｂａｓｅｄ　ｏｎ　ｒｅａｌ－ｔｉｍｅ　ｄａｔｅ　ｄｒｉｖｅｎ　ｗｅｒｅ　ｐｒｏｐｏｓｅｄ．Ａ ｍｏｄｕｌａｒ　ａｎｄ　ｇｅｎｅｒａｌｉｚｅｄ　ｄｉｇｉｔａｌ　ｔｗｉｎ　ｗｏｒｋｓｈｏｐ　ｓｙｓｔｅｍ　ｗａｓ　ｃｏｎｓｔｒｕｃｔｅｄ　ｂｙ　ｓｅｔｔｉｎｇ　ｕｐ　ａ　ｖｉｒｔｕａｌ　ｓｉｍｕｌａｔｉｏｎ　ｅｎｖｉｒｏｎ－ ｍｅｎｔ　ｆｏｒ　ｈｉｇｈ－ｆｉｄｅｌｉｔｙ　ｍａｐｐｉｎｇ　ｏｆ　ｒｅａｌ　ｐｈｙｓｉｃａｌ　ｂｅｈａｖｉｏｒ　ａｎｄ　ａｄｏｐｔｉｎｇ　ｔｈｅ　ｄａｔａ　ｍａｎａｇｅｍｅｎｔ　ｍｅｔｈｏｄ　ｆｏｒ　ｅｖｅｎｔ　ｒｅ－ ｓｐｏｎｓｅ．Ｆｕｒｔｈｅｒｍｏｒｅ，ｔｈｅ　ｋｅｙ　ｔｅｃｈｎｏｌｏｇｉｅｓ　ｓｕｃｈ　ａｓ　ｈｅｔｅｒｏｇｅｎｅｏｕｓ　ｍｕｌｔｉ－ｓｏｕｒｃｅ　ｄａｔａ　ａｃｑｕｉｓｉｔｉｏｎ　ａｎｄ　ｍａｎａｇｅｍｅｎｔ， ｖｉｒｔｕａｌ　ｓｉｍｕｌａｔｉｏｎ　ｅｎｖｉｒｏｎｍｅｎｔ　ｏｆ　ｒｅａｌ　ｐｈｙｓｉｃａｌ　ｂｅｈａｖｉｏｒ，ａｎｄ　ｒｅａｌ－ｔｉｍｅ　ｄａｔａ－ｄｒｉｖｅｎ　ｍｅｔｈｏｄ　ｆｏｒ　ｅｖｅｎｔ　ｒｅｓｐｏｎｓｅ　ｗｅｒｅ　ｅ－ ｌａｂｏｒａｔｅｄ　ｉｎ　ｄｅｔａｉｌ．Ｔｈｅ　ｐｒｏｔｏｔｙｐｅ　ｓｙｓｔｅｍ　ｗａｓ　ｄｅｓｉｇｎｅｄ，ａｎｄ　ｉｔｓ　ｆｅａｓｉｂｉｌｉｔｙ　ｗａｓ　ｓｕｃｃｅｓｓｆｕｌｌｙ　ｖｅｒｉｆｉｅｄ　ｂｙ　ｔｈｅ　ｖｅｈｉｃｌｅ　ｒａ－ ｄａｒ　ｗｏｒｋｓｈｏｐ，ｗｈｉｃｈ　ｐｒｏｖｉｄｅｄ　ａ　ｋｅｙ　ｓｕｐｐｏｒｔ　ｆｏｒ　ｔｈｅ　ａｐｐｌｉｃａｔｉｏｎ　ｏｆ　ｄｉｇｉｔａｌ　ｔｗｉｎｎｉｎｇ　ｔｅｃｈｎｏｌｏｇｙ　ｉｎ　ｔｈｅ　ｆｉｅｌｄ　ｏｆ　ｉｎｔｅｌｌｉ－ ｇｅｎｔ　ｍａｎｕｆａｃｔｕｒｉｎｇ． Ｋｅｙｗｏｒｄｓ：ｄｉｇｉｔａｌ　ｔｗｉｎ；ｄａｔａ　ｄｒｉｖｅｎ；ｈｉｇｈ－ｆｉｄｅｌｉｔｙ　ｍａｐｐｉｎｇ；ｅｖｅｎｔ　ｒｅｓｐｏｎｓｅ；ｉｎｔｅｌｌｉｇｅｎｔ　ｗｏｒｋｓｈｏｐ

０　 引 言
目 前 ，我 国 制 造 业 正 处 于 转 型 升 级 的 关 键 时 期 。

据统计，国内 制 造 企 业 中 有 ６０％ 拥 有 自 动 化 产 线， 但其中近７０％企业的相关数字 化 能 力 建 设 不 足，有 ３２％ 的 制 造 企 业 实 现 了 制 造 现 场 的 基 础 数 字 化 能 力

收 稿 日 期 ：２０２０－１０－２８；修 订 日 期 ：２０２０－１２－２８。Ｒｅｃｅｉｖｅｄ　２８ Ｏｃｔ．２０２０；ａｃｃｅｐｔｅｄ　２８Ｄｅｃ．２０２０． 基金项目：２０１８年智能制造综 合 标 准 化 与 新 模 式 应 用 项 目 ；国 家 国 防 科 技 工 业 局 资 助 项 目 （ＪＣＫＹ２０１９２１０Ｂ００５）。Ｆｏｕｎｄａｔｉｏｎ　ｉｔｅｍｓ：Ｐｒｏｊｅｃｔ
ｓｕｐｐｏｒｔｅｄ　ｂｙ　ｔｈｅ　Ｃｏｍｐｒｅｈｅｎｓｉｖｅ　Ｓｔａｎｄａｒｄｉｚａｔｉｏｎ　ａｎｄ　Ｎｅｗ　Ｍｏｄｅ　Ａｐｐｌｉｃａｔｉｏｎ　Ｐｒｏｊｅｃｔ　ｏｆ　Ｉｎｔｅｌｌｉｇｅｎｔ　Ｍａｎｕｆａｃｔｕｒｉｎｇ　ｉｎ　２０１８，Ｃｈｉｎａ，ａｎｄ ｔｈｅ　Ｔｅｃｈｎｏｌｏｇｙ　ａｎｄ　Ｉｎｄｕｓｔｒｙ　ｆｏｒ　Ｎａｔｉｏｎａｌ　Ｄｅｆｅｎｓｅ，Ｃｈｉｎａ（Ｎｏ．ＪＣＫＹ２０１９２１０Ｂ００５）．

第２期

魏一雄 等：基于实时数据驱动的数字孪生车间研究及实现

３５３

建设，其中仅有１２％实现了对基 于 数 据 制 造 流 程 进 行有效监控，在对制 造 车 间 运 行 状 态 的 监 控 和 科 学 管理方面尚缺乏底层的软件支撑。随着人口红利消 失 、产 业 化 转 型 升 级 ，企 业 急 切 需 要 提 高 生 产 线 的 自 动化和智能化水平，至少４０％以 上 的 企 业 会 对 其 自 动化产线进行数字 化 改 造 升 级，其 中 自 动 化 产 线 监 控和健康管理是 改 造 的 首 要 工 作。 然 而，传 统 的 数 字化车间、生产线仿真等技术方案 大 ［１－２］ 多只 解 决 了 车间布局规划和生 产 线 优 化，由 于 三 维 模 型 体 量 较 大 、仿 真 系 统 与 硬 件 设 备 数 据 的 实 时 交 互 性 差 ，无 法 实现物理车间的实时镜像和生产过程逆时复现等， 难以直接用于车间的实时可视化监控与远程运维。 近 年 来 ，数 字 孪 生 （ｄｉｇｉｔａｌ　ｔｗｉｎ）技 术 的 出 现 ，为 车 间 “三 化 ”（数 字 化 、智 能 化 、网 络 化 ）提 供 了 有 效 的 解 决 方案。数字孪生车间的目标是构建多维高保真车间 现场动态模型，实现 物 理 实 体 或 流 程 的 实 时 数 字 化 镜 像 ，以 及 基 于 数 据 驱 动 物 理 车 间 的 实 时 状 态 映 射 ， 同时结合数据分析 和 挖 掘，实 现 制 造 车 间 现 场 的 透 明、高效、智能 。 ［３－４］
针对 数 字 孪 生 车 间 的 构 建，国 内 外 学 者 在 数 字 孪 生 车 间 体 系 架 构 理 论 、虚 拟 模 型 构 建 、产 线 数 据 采 集、孪生车间 监 控 系 统 等 方 面 进 行 了 深 入 研 究 。 ［５－６］ 陶飞 等 ［７－８］ 提出数字孪生车间的概念，阐述了 其 系 统 组成、运行机制、特 点 和 关 键 技 术，设 计 了 数 字 孪 生 车间的参考系统 架 构，从 物 理 融 合、模 型 融 合、数 据 融合、服务融合４ 方 面 系 统 阐 述 了 基 础 理 论 和 支 撑 技术；陈 振 等 提 ［９］ 出 一 种 飞 机 数 字 孪 生 装 配 车 间 架 构 ，并 对 物 理 装 配 车 间 数 据 的 实 时 感 知 与 采 集 、虚 拟 装配车间建模与仿 真 运 行 技 术、数 字 孪 生 与 数 据 驱 动的装配车间生产 管 控 等 关 键 技 术 进 行 了 研 究；庄 存波等 对 ［１０］ 产 品 数 字 孪 生 体 的 内 涵 进 行 了 系 统 阐 述 ，建 立 了 产 品 数 字 孪 生 体 的 体 系 结 构 ，并 给 出 了 产 品数字孪生体在产 品 设 计 阶 段、制 造 阶 段 和 服 务 阶 段的实施途径；郭东升等 以 ［１１］ 企 业 航 天 结 构 件 制 造 车间为案例，展开数 字 孪 生 技 术 在 制 造 车 间 的 应 用 验 证 ，通 过 对 比 分 析 案 例 结 果 ，验 证 了 数 字 孪 生 制 造 车间可有效提高生产效率。
在 异 构 多 源 车 间 数 据 采 集 、轻 量 化 、通 用 虚 拟 模 型构建 等 数 字 孪 生 基 础 共 性 技 术 研 究 方 面，聂 志 等 基 ［１２］ 于离散 型 车 间 生 产 过 程 中 对 零 件 的 实 时 状 态 跟 踪 、生 产 过 程 数 据 追 溯 的 需 要 ，提 出 基 于 超 高 频 射频、二维码等物联 技 术 的 数 据 采 集 与 管 理 解 决 方 案；曹伟等 提 ［１３］ 出一种基于无 线 射 频 识 别 技 术 的 离

散制造车间实时数 据 采 集 和 可 视 化 监 控 方 法，设 计 了基于无线射频识别的车间数据采集与监控系统功 能 架 构 ，并 开 发 了 相 应 的 原 型 系 统 ，通 过 简 单 的 案 例 验证了所提方法和模型的 可 行 性；郭 磊 等［１４］针 对 智 能 车 间 现 场 多 品 牌 、多 接 口 设 备 数 据 传 输 的 需 求 ，研 究了智能 制 造 终 端 的 车 间 生 产 数 据 采 集 和 传 输 方 法，该方法基于车间 生 产 线 的 工 控 可 编 程 序 控 制 器 （Ｐｒｏｇｒａｍｍａｂｌｅ　Ｌｏｇｉｃ　Ｃｏｎｔｒｏｌｌｅｒ，ＰＬＣ），采用 ＯＰＣ 统 一 架 构 （ＯＰＣ　Ｕｎｉｆｉｅｄ　Ａｒｃｈｉｔｅｃｔｕｒｅ，ＯＰＣ　ＵＡ）完 成数据采集，并通过搭建 Ｒｅｓｔｆｕｌ服务器，以ＪＳ对象 简谱（ＪａｖａＳｃｒｉｐｔ　Ｏｂｊｅｃｔ　Ｎｏｔａｔｉｏｎ，ＪＳＯＮ）数据 串 的 形式将采集的数据发送至下游数字孪生车间系统； 殷庆文等 在 ［１５］ 构建数字化虚 拟 漫 游 平 台 中，根 据 模 型特点提出相应的 轻 量 化 技 术，有 效 降 低 了 虚 拟 漫 游平台对计算机资 源 的 消 耗，提 高 了 数 字 化 工 厂 规 划的质量和 效 率，降 低 了 工 厂 布 局 规 划 成 本；易 杨 等［１６］针对产品 全 生 命 周 期 过 程 中 合 理 准 确 表 达 数 字孪生几何模型的 实 际 需 求，提 出 以 非 理 想 表 面 模 型 为 载 体 ，实 现 数 字 孪 生 模 型 的 几 何 参 考 表 达 方 法 ， 为数字孪生虚拟几何模型构建提供了重要的参考； 刘明周等 设 ［１７］ 计 了 一 种 以 生 产 运 行 指 标 为 核 心 的 车间实时监控通用 模 型，具 有 很 好 的 可 拓 展 性 和 可 维护性；丁凯等 从 ［１８］ 逻辑关联 的 视 角 提 出 多 维 多 尺 度智能制造空间的 内 涵 与 特 征，并 结 合 数 字 孪 生 技 术的实现逻辑，研究 了 智 能 制 造 空 间 的 虚 实 映 射 建 模方法、复杂多维时 空 域 下 的 智 能 制 造 过 程 及 数 据 建模方法。
基于 科 学 的 数 字 孪 生 车 间 体 系 架 构，在 虚 拟 模 型 构 建 方 法 、车 间 数 据 采 集 系 统 的 支 撑 下 ，一 些 学 者 针对不同种类的自动化生产线搭建了数字孪生车间 系 统。 尹 超 等 基 ［１９］ 于 Ｆｌｅｘｓｉｍ 构 建 了 一 种 动 态 反 映机加车间生产任务执行情况的三维可视化监控系 统；姜 康 等［２０］、方 磊 等 基 ［２１］ 于 虚 拟 现 实 技 术 和 信 息 集成技术构建了虚拟车间状 态 监 控 系 统，并 在 Ｕｎｉ－ ｔｙ３Ｄ 上 进 行 了 实 例 验 证；柳 林 燕 等 建 ［２２］ 立 了 车 间 生产过程数字孪生 系 统 体 系 架 构，并 详 细 阐 述 了 数 字孪生 建 模 与 实 现、基 于 ＯＰＣ 的 数 据 采 集，以 及 车 间生产运行的实时映射；赵 浩 然 等［２３］分 析 了 数 字 孪 生车间和三维可视 化 实 时 监 控 之 间 的 关 系，提 出 一 种多层次的三维可视化监控模式和实时数据驱动的 虚拟车间运行模式。
综上 所 述，目 前 数 字 孪 生 车 间 系 统 研 究 可 以 基 本实现车间现场状 态 的 可 视 化 监 控，但 是 仍 存 在 如

３５４

计算机集成制造系统

第 ２７ 卷

下 不 足 ：① 缺 乏 有 效 的 数 据 集 成 与 数 据 管 理 ，系 统 在 完成数据实时驱动 时 计 算 负 荷 较 大，导 致 系 统 的 交 互性和可靠性较差；② 现 有 系 统 只 实 现 了 基 于 数 据 触发的预定义虚拟 模 型 动 作，缺 乏 描 述 车 间 真 实 物 理行为的虚拟仿真 系 统，达 不 到 数 字 孪 生 多 维 高 保 真映射的 技 术 要 求，也 无 法 满 足 远 程 运 维 的 需 求； ③产线存在多源异 构 数 据，由 于 缺 乏 统 一 的 数 据 采 集 与 传 输 方 案 ，造 成 系 统 “数 据 信 息 孤 岛 ”，影 响 车 间 的逆时复现、故障 诊 断、预 测 性 维 护 和 健 康 管 理 等； ④对于数字孪生车间系统的软件架构设计仍处于初 级 阶 段 ，缺 乏 模 块 化 和 面 向 时 间 响 应 的 系 统 思 想 ，束 缚了系统的通用化与可扩展化。
针对 上 述 问 题，本 文 提 出 一 种 基 于 数 据 驱 动 的 数字孪生车间系统总体架构和面向事件响应的异构 多源数据管理方法，构 建 了 面 向 真 实 物 理 行 为 高 仿 真 映 射 的 虚 拟 仿 真 环 境 ，最 后 通 过 添 加 运 动 约 束 ，实 现了物理车间生产 状 态 的 实 时 镜 像，满 足 了 车 间 的 实时可视化监控、分 析 预 测、故 障 预 警、逆 时 复 现 以 及健康管理和远程运维的要求。本文所开发的系统 已在车载防撞雷达自动化生产线上进行了应用。
１　 数 字 孪 生 车 间 系 统 总 体 架 构
本 系 统 包 括 设 备 层 、感 知 层 、驱 动 层 、应 用 层 ，如 图１所示。其中：① 设 备 层 包 括 车 间 现 场 的 各 类 设 备，如自动 老 化 机、装 配／检 测 机 器 人、抓 取 机 械 臂 等。这些设备的运行数据为数字孪生车间系统运行 提供所需的基础数据。②感知层用于车间异构多源 数据的实时采集和 数 据 预 处 理，包 括 设 备 运 动 信 息 采集、运输行为感 知、生 产 线 上 物 料 信 息 感 知、设 备 状态感知、环境 感 知 等。 感 知 层 利 用 系 统 的 数 据 采 集和传输模块，通过 数 据 通 讯 协 议 读 取 和 存 储 设 备 层多品牌、多接口、多 协 议 的 设 备 实 时 状 态 数 据，并 以ＪＳＯＮ 数据串将 数 据 传 递 给 数 字 孪 生 车 间 系 统； 对于没有相关数据 接 口 的 设 备，通 过 布 置 传 感 器 测 算其相关状态数据进行数据信息采集。③驱动层负 责对上游感知层数 据 的 映 射，并 通 过 构 建 面 向 真 实 物理行为高仿真映 射 的 虚 拟 仿 真 环 境，实 现 物 理 车 间与虚拟车间的同步映射。驱动层包括解析数据、 变 量 匹 配 、运 动 控 制 等 过 程 ，其 中 数 据 解 析 过 程 以 轮 询 的 方 式 获 取 感 知 层 发 送 的 Ｊｓｏｎ 格 式 数 据 流 ，并 对 数据流中与运动控 制 相 关 的 变 量 进 行 实 时 赋 值；然 后变量匹配过程通 过 名 称 寻 找 运 动 机 构 模 型，并 与 对应的运动控制相 关 的 变 量 进 行 匹 配；最 后 实 时 驱

动对应的三维模 型，完 成 拾 取、放 置 和 推 拉 等 动 作。 ④应用层基于实时 数 据 驱 动 的 虚 拟 车 间，实 现 了 对 车间制造资源的三维可视化导航以及车间物理动作 的 仿 真 和 实 时 监 控 ，同 时 通 过 触 发 虚 拟 触 发 信 号 ，针 对性地在三维模型 上 显 示、分 析 和 管 理 车 间 现 场 设 备状态信息、生产 工 艺 参 数 信 息、车 间 物 流 过 程、产 品质量信息以及设 备 故 障 的 管 理 诊 断 信 息 等，形 成 了面向车间的虚拟 监 控 平 台，实 现 了 车 间 透 明 化 生 产 、故 障 问 题 重 现 与 仿 真 ，满 足 了 使 用 者 对 车 间 的 追 溯 分 析 、实 时 监 控 和 预 测 仿 真 等 需 求 。
基于上述数字孪生车间系统的总体技术方案， 本文构建了数字孪 生 车 间 系 统 架 构，包 括 系 统 管 理 模 块 、数 据 传 输 模 块 、数 据 管 理 模 块 、监 控 视 角 模 块 、 数 据 可 视 化 模 块 、运 动 驱 动 模 块 、状 态 匹 配 模 块 等 独 立分系统模块，还包 括 独 立 分 系 统 模 块 之 间 的 拓 扑 关 系 以 及 系 统 扩 展 和 维 护 策 略 ，如 图 ２ 所 示 。
数字孪生车间系统的各分系统模块相互独立， 便 于 维 护 ，并 存 在 相 互 控 制 关 系 。 具 体 功 能 如 下 ：
（１）系统管理模块 　 主 要 用 于 其 他 ６ 个 模 块 间 的 耦 合 ，包 括 数 据 传 输 、接 口 调 用 、触 发 信 号 传 递 等 。 例如数据可视化模 块 请 求 数 据，需 通 过 数 据 传 输 模 块实时获取数据，再 经 由 系 统 管 理 模 块 响 应 映 射 到 数据管理模块中的 数 据 列 表，最 后 数 据 可 视 化 模 块 通 过 请 求 响 应 刷 新 数 据 ，得 到 对 应 的 可 视 化 界 面 。
（２）数据传输模 块 　 主 要 管 理 由 数 据 入 口 获 取 的信息数据，同 时 响 应 各 个 模 块 的 数 据 请 求。 数 据 传输模 块 利 ［１４］ 用 ＯＰＣ　ＵＡ 等 通 用 协 议 采 集 制 造 现 场的 ＰＬＣ、传感器、工控机等终端设备数据信 息，通 过搭建 Ｒｅｓｔｆｕｌ服务器完成数据采集，并以ＪＳＯＮ 数 据串的形式将数据发送至下游数字孪生车间系统。
（３）数 据 管 理 模 块 　 用 于 管 控 整 体 系 统 中 的 全 部 数 据 ，包 括 外 部 数 据 刷 新 、运 动 驱 动 、数 据 存 储／ 分析等。数据管理模块中的数据信息单独存储为 数 据 列 表 ，用 于 映 射 数 据 传 输 模 块 传 递 的 数 据 信 息 ，对 数 据 的 操 作 是 从 数 据 传 输 模 块 中 获 取 全 部 信 息 数 据 ，并 对 其 进 行 解 析 和 映 射 标 记 ，同 时 在 数 据 传 输 模 块 的 代 理 类 Ｃａｌｌ　Ｒｅｑｕｅｓｔ进 行 方 法 响 应 ， 使得实时数据可被对应的模块添加到本模块进行 变 量 映 射 操 作 ，并 可 即 时 访 问 ，达 到 实 时 响 应 模 块 请求的目的。
（４）监 控 视 角 模 块 　 指 在 数 字 空 间 中 ，人 所 看 到 的数字化图像均用 虚 拟 相 机 拍 摄 并 呈 现，操 作 者 根 据需求选择不同的视角监控车间的生产状态。

第２期

魏一雄 等：基于实时数据驱动的数字孪生车间研究及实现

３５５

（５）数 据 可 视 化 模 块 　 是 将 制 造 现 场 运 行 的 详细信息数据以直观可视化的方式进行展现的模

块 ，包 括 可 视 化 内 容 层 级 、可 视 化 展 示 逻 辑 和 可 视 化内容播放。可视化内容层级关系表示可视化对

３５６

计算机集成制造系统

第 ２７ 卷

象 的 父 子 关 系 ，每 一 个 可 视 化 对 象 均 添 加 层 级 属 性 ，作 为 内 容 展 示 的 标 签 进 行 管 理 ；可 视 化 展 示 逻 辑 将 可 视 化 对 象 分 为 模 型 、界 面 、交 互 、多 媒 体 信 息 ４ 类 ，界 面 用 于 展 示 根 节 点 ，其 他 ３ 类 对 象 作 为 其 嵌 套 层 ，交 互 作 为 其 他 ３ 类 对 象 可 调 用 的 工 具 ， 多媒体信息和模型在架构内部被定义为互斥类对 象 ；可 视 化 内 容 播 放 包 括 从 数 据 传 输 模 块 获 取 数 据 和 触 发 预 定 义 播 放 路 径 两 种 模 式 ，其 中 数 据 传 输 模 块 获 取 数 据 指 获 取 模 型 和 多 媒 体 信 息 ，通 过 将 其 添 加 到 特 定 界 面 位 置 进 行 播 放 ；触 发 预 定 义 播 放 路 径 指 预 先 定 义 可 视 化 的 播 放 内 容 ，通 过 触 发对应接口进行播放。
（６）运 动 驱 动 模 块 　 包 括 位 姿 数 据 驱 动 和 状 态 数 据 驱 动 。 其 中 位 姿 数 据 包 括 旋 转 和 位 移 ，通 过 即 时 更 新 数 据 来 保 证 一 致 性 ；状 态 数 据 包 括 夹 取 、 吸 放 、启 动 、停 止 状 态 下 的 布 尔 值 ，通 过 触 发 状 态 位并预定义动作来保证一致性。状态位触发是在 运 动 状 态 Ｉ／Ｏ 信 号 发 生 变 化 时 触 发 预 定 义 动 作 ， 预 定 义 动 作 指 运 动 方 向 、位 置 、坐 标 均 为 常 值 的 运动。
（７）状 态 匹 配 模 块 　 负 责 系 统 初 次 启 动 时 ，利 用 实时数据和内部运 算 判 断，将 数 字 空 间 虚 拟 制 造 现 场 的 物 料 状 态 、运 动 状 态 、加 工 状 态 等 与 现 场 匹 配 一 致 。 其 中 ，物 料 状 态 匹 配 包 括 上 下 料 工 位 物 料 、加 工 线 体 上 物 料、物 料 仓 库 物 料，以 及 自 动 导 引 小 车 （Ａｕｔｏｍａｔｅｄ　Ｇｕｉｄｅｄ　Ｖｅｈｉｃｌｅ，ＡＧＶ）运 送 物 料 的 数 量 、方 位 虚 实 映 射 ，该 过 程 的 数 据 均 通 过 数 据 传 输 模 块 在 现 场 实 时 采 集 ，对 于 不 能 获 取 的 数 据 ，则 通 过 间 接数据进行组合判 断；运 动 状 态 匹 配 即 制 造 现 场 的 加工设备运动情况 虚 实 映 射，由 运 动 驱 动 模 块 通 过 数据信息进行匹配，匹 配 过 程 是 利 用 系 统 启 动 瞬 间 的数据来完成运动 驱 动 过 程 的 同 步；加 工 状 态 匹 配 包 括 加 工 对 象 位 置 、加 工 对 象 状 态 、设 备 夹 持 状 态 的 虚实映射，该项匹配 过 程 是 虚 拟 加 工 制 造 前 的 初 始 化过程，不 能 获 取 的 数 据 通 过 间 接 数 据 获 取 加 工 状态。
本系统基于模块化分系统架构和分系统拓扑关 系建立了相对独立 的 各 个 模 块，可 以 按 照 定 制 需 求 快 速 搭 建 新 的 模 块 分 系 统 ，并 接 入 数 据 及 触 发 流 程 。 同时，对任一模块分 系 统 进 行 维 护 都 不 会 对 其 他 分 系统模块的运行产 生 较 大 影 响，例 如 撤 销 数 据 可 视 化模块功能仍然可 以 确 保 运 动 驱 动、数 据 传 输 正 常 运行。

２　 异 构 多 源 数 据 的 实 时 采 集 与 柔 性 处 理
２．１　 异 构 多 源 数 据 的 实 时 采 集 面向 车 间 设 备 种 类 多、采 集 数 据 类 型 多 样 等 状
况，本系 统 采 用 基 于 ＯＰＣＵＡ　Ｓｅｒｖｅｒ的 采 集 方 式， 通过 感 知 层 从 数 据 库 或 制 造 现 场 ＰＬＣ、传 感 器、工 控机等终端获取目 标 信 息 数 据 的 接 口，包 括 Ｓｏｃｋｅｔ 传 输 、ｆｔｐ 共 享 传 输 、数 据 库 共 享 传 输 、Ｍｅｓｓａｇｅ 消 息 服务传输等。
为保 证 数 据 采 集 的 效 率，系 统 通 过 数 据 传 输 模 块［１４］从 ＰＬＣ 中统一采集分 配。对 于 没 有 接 入 ＰＬＣ 控 制 的 数 据 ，包 括 特 定 传 感 器 、部 分 硬 件 接 口 未 开 放 的机器人、ＡＧＶ 运 输 小 车 和 检 测 设 备 数 据，系 统 采 用串口方式访 问、传 输 控 制 协 议／网 际 协 议 （Ｔｒａｎｓ－ ｍｉｓｓｉｏｎ　Ｃｏｎｔｒｏｌ　Ｐｒｏｔｏｃｏｌ／Ｉｎｔｅｒｎｅｔ　Ｐｒｏｔｏｃｏｌ，ＴＣＰ／ ＩＰ）协议访问、输 入／输 出（Ｉｎｐｕｔ／Ｏｕｔｐｕｔ，Ｉ／Ｏ）端 口 解 析 等 方 式 获 取 数 据 ，并 统 一 存 入 数 据 列 表 ，以 便 于 系统访问。 ２．２　 系 统 内 数 据 的 集 成 与 管 理
系统内部数据的业务流程如图３所示。系统内 数 据 由 数 据 管 理 模 块 统 一 管 理 ，包 括 数 据 的 请 求 、触 发、响应、驱动等行 为 动 作，其 中 数 据 信 息 单 独 存 储 为数据列表，用于映 射 数 据 传 输 模 块 传 递 的 数 据 信 息。数据传输模块负责与系统外界和系统内部模块 间 的 数 据 进 行 通 信 传 递 ，同 时 刷 新 数 据 列 表 ，实 现 实 时数据映 射。 数 据 的 驱 动 和 可 视 化 由 管 理 模 块 驱 动，用于 完 成 车 间 运 动 仿 真 驱 动 及 相 应 的 可 视 化 工作。
在系 统 内 部 数 据 业 务 的 实 现 过 程 中，由 于 车 间 的 生 产 产 品 、工 艺 、流 程 等 要 素 会 随 企 业 需 求 发 生 变

第２期

魏一雄 等：基于实时数据驱动的数字孪生车间研究及实现

３５７

化，考虑未来数据层 面 采 集 与 驱 动 的 可 扩 展 性 和 柔 性 需 求 ，应 尽 量 降 低 模 块 间 的 耦 合 关 系 ，本 文 通 过 事 件 驱 动 和 代 理 方 式 ，面 向 不 同 对 象 进 行 数 据 管 理 、传 输 、触 发 、驱 动 和 可 视 化 等 模 块 注 册 响 应 。 各 个 模 块 仅需提前注册对应 的 响 应 方 法，并 将 数 据 变 量 列 表 作 为 参 数 ，即 可 满 足 模 块 信 息 数 据 请 求 响 应 的 需 求 ， 其逻辑流程如图３ 中 虚 线 所 示，具 体 事 件 注 册 响 应 的 流 程 如 图 ４［２４］所 示 。 首 先 在 数 据 传 输 模 块 中 将 相 应的数据请求业务 注 册 到 数 据 管 理 模 块 中，数 据 管 理模块在 数 据 解 析 映 射 后 遍 历 所 有 注 册 的 数 据 请 求 ，触 发 数 据 传 递 映 射 事 件 ，并 通 过 数 据 传 输 模 块 的 代理类 ＣａｌｌＲｅｑｕｅｓｔ进 行 方 法 响 应，使 实 时 数 据 添 加到对应模块并可 即 时 访 问，从 而 达 到 响 应 模 块 实 时数据请求的目的。
３　 面 向 真 实 物 理 行 为 的 虚 拟 仿 真 环 境
为将物理车间的生产状态数据同步映射在数字 孪 生 车 间 ，降 低 系 统 的 运 行 负 荷 ，需 对 数 字 孪 生 车 间

的几何模型进行超 轻 量 处 理，在 满 足 系 统 要 求 的 情 况下使模型数据量尽量小。
基 于 现 有 数 字 孪 生 系 统 开 发 平 台 或 工 具 ，首 先 将 制 造 资 源 和 在 制 品 的 ＣＡＤ 模 型 通 过 多 种 方 式 进 行 模 型 轻 量 化 处 理 ，其 中 主 要 包 括 两 方 面 ： ① 简 化 细 小 特 征 的 模 型 或 结 构 ；② 基 于 边 界 表 示 法 （Ｂｏｕｎｄａｒｙ　ｒｅｐｒｅｓｅｎｔａｔｉｏｎ，Ｂ－ｒｅｐ）、体 素 构 造 表 示 法 （Ｃｏｎｓｔｒｕｃｔｉｖｅ　Ｓｏｌｉｄ　Ｇｅｏｍｅｔｒｙ，ＣＳＧ）或 其 他 表 征 方 法 ，利 用 ３ＤＭａｘ、ＰｉＸＹＺ 等 软 件 将 模 型 转 换 为 面 片 模 型 。 需 要 注 意 的 是 ，在 模 型 轻 量 化 时 ，需 要 考 虑 车 间 设 备 各 运 动 部 件 的 结 构 约 束 和 运 动 的 层 级 关 系 ，避 免 模 型 结 构 层 级 影 响 后 期 运 动 约 束 的 定 义 ，确 保 后 期 构 建 物 理 模 型 的 高 保 真性。
对于 部 分 轻 量 化 时 间 成 本 较 高，或 者 难 以 借 助 软件平台进行理想轻量化的模型，本文采用 ３ＤＭａｘ 软件对部分模型进 行 了 重 构，包 括 数 字 化 车 间 的 厂 房 、设 备 、工 装 、车 间６Ｓ 元 素 等 。 车 载 防 撞 雷 达 生 产 线总共进行了４２套 ＣＡＤ 模型的简化操作，原 ＣＡＤ 模型文件约为４　０９８ ＭＢ，轻量化后的模型文件约为 １１０ ＭＢ，降低 约 ９７．３％；原 车 间 ＣＡＤ 模 型 面 片 化 后 的 数 量 约 为 １３　６０６ 万 片 左 右 ，轻 量 化 处 理 后 模 型 面片数约为１１６万片左 右，降 低 约 ９０％。 部 分 模 型 轻量化前后数据的比对如图５所示。
为提 升 数 字 孪 生 车 间 的 可 视 化 效 果，在 模 型 轻 量化 过 程 中，借 助 Ｔｏｏｌｂａｇ，ＳｕｂｓｔａｎｃｅＰａｉｎｔｅｒ等 工 具进行模型表面 贴 图 渲 染、动 作 设 计、光 照 添 加 等， 提升数字孪生模型与物理实体对象的一致性。图６ 所示为数字孪生车间和工位模型渲染图。

３５８

计算机集成制造系统

第 ２７ 卷

３．１　 运 动 机 构 运 动 驱 动 及 约 束 求 解 三坐标运动机构与机器人运动约束算法用于定
义运动机构模型的父子级关系和运动约束。车间设 备机构运动通常有 两 种 模 式：① 完 全 可 以 采 集 获 取 运动数据的设备；② 获 取 末 端 执 行 机 构 运 动 方 位 数 据 的 设 备 。 对 于 第 一 种 设 备 ，基 于 上 述 轻 量 化 模 型 ， 重新定义符合物理设备的运动规范和主随动关系， 通过实时获取驱动 数 据，可 有 效 保 证 虚 拟 车 间 与 物 理车间的运动相 匹 配。 同 时，由 于 采 用 基 于 约 束 和 结 构 层 级 的 数 据 驱 动 ，在 生 产 环 境 、生 产 对 象 发 生 变 化 时 ，无 需 修 改 数 字 对 象 模 型 ，仍 然 可 以 进 行 准 确 地 孪 生 匹 配 ，实 现 高 保 真 的 物 理 仿 真 。 对 于 第 二 种 ，本 文采用开源的反向 动 力 学 算 法，首 先 确 定 每 一 个 模 型结构层级和约束 条 件，然 后 获 取 末 端 运 动 方 位 数 据 ，并 通 过 算 法 求 解 ，得 到 每 一 个 关 联 机 构 模 型 对 应 的 运 动 方 位 ，如 图 ７ 所 示 。 需 要 注 意 的 是 ，基 于 上 述 的运动求解方法，仅 可 确 保 末 端 执 行 机 构 的 方 位 准

确 ，以 及 每 一 个 关 联 机 构 方 位 和 现 实 逻 辑 匹 配 ，无 法 完全保证关联机构方位和物理世界对应机构的方位 一致。
３．２　 复 杂 运 行 环 境 下 的 虚 实 车 间 状 态 匹 配 当物 理 车 间 设 备 运 作 时，启 动 数 字 孪 生 系 统 的
同时 要 保 证 虚 拟 场 景 的 物 料、设 备、ＡＧＶ 小 车、检 测信息等与当前物理车间状态完全一致。为保障物 理车间生产和数字 孪 生 系 统 同 步 运 行，可 以 通 过 虚

第２期

魏一雄 等：基于实时数据驱动的数字孪生车间研究及实现

３５９

拟加工制造前的初 始 化 过 程，对 数 字 孪 生 车 间 与 物 理车间进行全方位的状态匹配。
状 态 匹 配 包 括 运 动 状 态 匹 配 、加 工 状 态 匹 配 、物 料状态匹配。其中，运 动 状 态 即 车 间 所 有 设 备 运 动 机构 的 实 时 状 态，包 括 伺 服、气 缸、ＡＧＶ 小 车 等 的 位置坐标和速度状 态；加 工 状 态 即 车 间 所 有 工 位 工 艺流程的进行状 态，包 括 工 艺 流 程、生 产 节 拍、加 工 时间等；物 料 状 态 包 括 加 工 对 象 位 置、加 工 对 象 状 态 、单 工 位 加 工 对 象 数 量 等 。 另 外 ，在 系 统 重 新 启 动 后，可以通过分析状 态 匹 配 数 据 并 进 行 联 合 判 断 得 到车间状态，然后通 过 运 动 驱 动 分 系 统 以 同 样 的 原 理驱动车间与现场状态相匹配。图８所示为某工位 的系统初始状态匹配示意图。

４　 基 于 实 时 数 据 驱 动 的 模 型 运 行
４．１　 虚 拟 环 境 中 的 监 控 视 角 驱 动 为 使 系 统 能 够 全 面 、有 效 地 进 行 可 视 化 监 控 ，
监 控 视 角 模 块 提 供 有 不 同 的 视 角 切 换 功 能 ，满 足 了使用者的监控需求。本系统通过切换虚拟相机 角 度 方 位 或 切 换 不 同 的 虚 拟 相 机 ，可 以 得 到 不 同 的 观 察 角 度 和 图 像 ，从 而 实 现 对 车 间 运 行 状 态 的 ３６０°监 控 。
如图９ 所 示，监 控 视 角 包 括 闭 路 电 视 （Ｃｌｏｓｅｄ－ Ｃｉｒｃｕｉｔ　Ｔｅｌｅｖｉｓｉｏｎ，ＣＣＴＶ）视角、跟随视角、固定 对 象视角、自由视角等。其中 ＣＣＴＶ 视 角 通 过 添 加 多 个虚拟相机的方式，将 多 个 对 象 的 特 定 角 度 同 时 显 示在界面上；跟随视 角 针 对 制 造 全 生 命 周 期 中 的 某 一 特 定 对 象 （如 物 料 盘 、在 制 件 等 ），实 现 对 该 对 象 的 全流程监控；固定对 象 视 角 是 设 定 某 一 特 定 工 位 为 监 控 对 象 ；自 由 视 角 不 限 定 相 机 位 置 ，支 持 用 户 在 虚 拟空间内自由漫游。
用 户 根 据 不 同 的 可 视 化 显 示 需 求 ，通 过 鼠 标 、虚 拟 按 钮 、快 捷 键 等 调 用 相 关 的 虚 拟 相 机 驱 动 脚 本 ，来 监 控 所 关 注 对 象 的 详 细 状 态 ，提 升 车 间 现 场 的 实 时 可 视 化 监 控 、故 障 点 显 示 和 数 据 可 视化等。

４．２　 虚 拟 三 维 模 型 的 运 动 驱 动 运动 驱 动 模 块 用 于 驱 动 数 字 孪 生 模 型 运 动，包
括坐标变换、旋转 位 移、电 机 伺 服 驱 动 等，其 中 坐 标 变换、旋转位移 均 相 对 于 局 部 坐 标 系 进 行。 运 动 驱 动 分 为 两 种 类 型 ：① 位 姿 数 据 驱 动 ，包 括 旋 转 、位 移 ， 该驱动过程采用数据即时更新保证物理对象与数字 孪 生 模 型 运 动 的 一 致 性 （按 照 前 面 所 述 ，数 据 传 输 模

块解析数据后，通过 各 个 模 块 在 事 件 上 注 册 的 方 法 实时更新数据）；② 状 态 数 据 驱 动 （指 运 动 状 态Ｉ／Ｏ 信 号 发 生 变 化 时 触 发 预 定 义 动 作 ），包 括 夹 取 、吸 放 、 启 动／停 止 等 状 态 布 尔 值 ，它 采 用 状 态 位 触 发 和 预 定 义动作，保证物理对 象 与 数 字 孪 生 模 型 运 动 的 一 致 性 ，例 如 电 机 驱 动 的 上 螺 丝 过 程 ，由 于 采 用 的 是 气 缸 运 动 ，方 向 、行 程 、速 度 等 均 为 不 变 常 值 。

３６０

计算机集成制造系统

第 ２７ 卷

运 动 驱 动 模 块 由 数 据 解 析 脚 本 、变 量 匹 配 脚 本 、 实 时 驱 动 脚 本 构 成 ，对 生 产 线 的 每 个 工 站 并 行 驱 动 ， 其 驱 动 过 程 如 图 １０［２５］所 示 。 首 先 解 析 感 知 层 数 据 ， 并对与运动控制相 关 的 变 量 实 时 赋 值；其 次 通 过 名 称 寻 找 运 动 部 件 模 型 ，并 匹 配 对 应 的 运 动 变 量 ；最 后 根据运动变量值改 变 模 型 位 置 坐 标，或 者 调 用 物 理 动作驱动模块完成 对 模 型 的 运 动 驱 动，从 而 实 现 虚 拟模型与物理车间资源同步运动。

取 触 发 信 号 并 参 照 触 发 信 号 管 理 单 元 ，通 过 改 变 相关物体父子级关系和空间位置模拟物理动作。

４．３　 虚 拟 三 维 模 型 的 物 理 动 作 仿 真 因为 数 字 空 间 不 存 在 物 理 空 间 的 物 理 属 性，如
重量、摩擦、加速度 等，所 以 数 字 孪 生 系 统 中 的 某 些 物理动作必须通过数字模拟的方式实现。物理动作 仿真负责数字孪生虚拟制造现场所有物理行为动作 的仿真和数据驱 动，包 括 碰 撞 动 作、拾 取 动 作、放 置 动作、推拉动作 等。 物 理 动 作 仿 真 针 对 每 一 种 物 理 动作类型进行运动 脚 本 编 程，通 过 判 断 触 发 器 名 称 或触发器父级物体 名 称 判 断 触 发 信 号 的 有 效 性，最 后通过改变被作用物体父子级关系和空间位置实现 对物理对象动作的仿真。
物 理 动 作 仿 真 由 数 据 解 析 脚 本 、变 量 匹 配 脚 本 、实 时 驱 动 脚 本 构 成 ，其 仿 真 过 程 如 图 １１ 所 示 。 ［２５］ 首 先 根 据 物 理 动 作 中 所 涉 及 的 物 体 结 构 特 征 ，在 虚 拟 环 境 的 模 型 子 级 内 创 建 碰 撞 触 发 器 和 光 线 投 射 触 发 器 两 种 虚 拟 触 发 信 号 机 构 ，为 模 拟 物 理 动 作 提 供 数 据 源 ；然 后 对 所 有 碰 撞 触 发 器 和光线投射触发器产生的触发信号在独立的脚 本 中 申 明 变 量 ，通 过 Ｄｉｃｔｉｏｎａｒｙ 泛 型 类 建 立 触 发 器 相 关 模 型 和 触 发 信 号 之 间 的 联 系 ，并 封 装 成 独 立的触发信号单元供物理动作仿真中驱动脚本 管 理 单 元 引 用 和 查 询 ；最 后 驱 动 脚 本 管 理 单 元 获

在某 测 试 工 位 中，三 坐 标 执 行 机 构 需 要 完 成 拉 开老化箱格子、放入 产 品 和 推 上 老 化 箱 格 子 ３ 个 操 作，其中涉及执行机 构 与 老 化 箱 格 子 之 间 的 接 触 作 用。当执行机构运 动 至 老 化 箱 格 子 碰 撞 面 上 时，触 发其子级上 的 “ＰｕｌｌＴｒｉｇｇｅｒ”触 发 器，根 据 返 回 的 模 型信息和真实三坐标执行机构末端的力反馈信号判 断 是 否 执 行 有 效 接 触 ，如 果 是 ，则 推 拉 动 作 脚 本 的 执 行函数将老化箱格子模型设定为执行机构的子级， 并执行机构运动当 格 子 被 拉 到 指 定 行 程 时，触 发 世 界坐标系 内 的 “ＥｎｄＰｕｌｌＴｒｉｇｇｅｒ”触 发 器，然 后 同 类 函数复原老化箱柜 子 模 型 的 父 子 级 关 系，其 实 现 过 程 如 图 １２［２５］所 示 。

第２期

魏一雄 等：基于实时数据驱动的数字孪生车间研究及实现

３６１

驱动脚本管理单元根据虚拟触发信号名称等输 入 信 息 ，对 物 理 动 作 仿 真 进 行 调 用 ，完 成 特 定 对 象 和 物理动作驱动子 类 代 码 的 封 装 和 管 理。 例 如，下 文 代码以作用物体名 称、被 作 用 物 体 名 称 和 触 发 器 参 数为输入量，对相应 对 象 与 物 理 动 作 的 子 类 进 行 编 写 ，实 现 对 执 行 机 构 末 端 夹 取 某 类 部 件 的 分 类 管 理 ， 供运动驱动模块随时调用。
ｐｕｂｌｉｃ　Ｔｒａｎｓｆｏｒｍ　ＣａｔｃｈＳｈｅｌｌｓ（Ｔｒａｎｓｆｏｒｍ　ｗｈｏＣａｔｃｈ） ｛ 　ｒｅｔｕｒｎ　Ｃａｔｃｈ（ｗｈｏＣａｔｃｈ，ｃｈｅｃｋＲａｄｉｕｓ，ＰｒｏｄｕｃｔＴｙｐｅ．ｓｈｅｌｌｓ）； ｝

５　 实 例 验 证
本文 所 提 数 字 孪 生 车 间 系 统 在 中 电 ３８ 所 汽 车 防撞雷达组装生产 线 上 进 行 了 落 地 应 用 验 证，如 图 １３所示。整个生产线由物料仓、机 器 人 上 料 工 位、３ 个 装 配 加 工 工 位 、１ 个 老 化 检 测 工 位 、１ 个 终 检 工 位 、 １个机器人下料工位，两辆 ＡＧＶ 小车和１个老化检 测中心组成。物料由物料机器人放置于一个工装物 料 盘 中 ，由 １０ 辆 线 体 轨 道 小 车 带 动 物 料 盘 在 生 产 线 上 运 动 ，按 工 位 顺 序 完 成 整 套 装 配 工 艺 流 程 。

针对 该 智 能 装 配 线，采 用 本 文 所 提 出 的 方 法 设 计并开发了智能装 配 线 数 字 孪 生 系 统，实 现 了 对 物 理车间制造资源的实时镜像。同时针对性地显示、 分 析 、管 理 车 间 现 场 设 备 状 态 信 息 、生 产 工 艺 参 数 信 息 、车 间 物 流 过 程 、产 品 质 量 信 息 和 设 备 故 障 诊 断 信 息 等 ，形 成 了 面 向 车 间 制 造 现 场 的 实 时 可 视 化 监 控 、 分析预测、逆时复 现、健 康 管 理 和 远 程 运 维 平 台，如 图 １４ 所 示 。

６　 结 束 语

本文通过搭建面向真实物理行为高保真映射的 虚拟仿真环境，采用 面 向 事 件 响 应 的 数 据 管 理 方 法 构建了基于数据驱 动 的 数 字 孪 生 车 间 系 统，实 现 了 对物理车间的实 时 镜 像。 另 外，通 过 开 发 汽 车 防 撞

雷达组装生产线的 数 字 孪 生 车 间 系 统，实 现 了 车 间 现 场 设 备 状 态 信 息 、生 产 工 艺 参 数 信 息 、车 间 物 流 过 程、产品质量信息和 设 备 故 障 诊 断 信 息 等 的 可 视 化 显 示 、分 析 与 管 理 ，形 成 了 面 向 车 间 现 场 的 虚 拟 监 控

３６２

计算机集成制造系统

第 ２７ 卷

平台，为数字孪生技 术 在 智 能 制 造 领 域 的 应 用 与 发 展提供了关键支撑。未来将围绕如何快速构建数字 孪 生 模 型 ，以 及 应 用 中 涉 及 的 大 数 据 分 析 、智 能 决 策 等展开研究。
参考文献：
［１］　ＺＨＡＯ　Ｒｏｎｇｙｏｎｇ，ＺＨＡＮＧ　Ｈａｏ，ＦＡＮ　Ｌｉｕｑｕｎ，ｅｔ　ａｌ．Ｔｈｅ　ｒｅ－ ｓｅａｒｃｈ　ａｂｏｕｔ　ｒｅｌａｔｉｏｎｓｈｉｐ　ｏｆ　ｄｉｇｉｔａｌ　ｆａｃｔｏｒｙ　ａｎｄ　ｖｉｒｔｕａｌ　ｍａｎｕｆａｃ－ ｔｕｒｉｎｇ［Ｊ］． Ｃｏｍｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ　Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｓｙｓｔｅｍｓ， ２００４，１０（Ｓ１）：４６－５０，５５（ｉｎ　Ｃｈｉｎｅｓｅ）．［赵 荣 泳，张 　 浩，樊 留 群，等．数字化工厂与虚拟制造 的 关 系 研 究 ［Ｊ］．计 算 机 集 成 制 造 系 统 ，２００４，１０（Ｓ１）：４６－５０，５５．］
［２］　ＮＩＮＧ　Ｒｕｘｉｎ，ＬＩＵ　Ｊｉａｎｈｕａ，ＴＡＮＧ　Ｃｈｅｎｇｔｏｎｇ．ｅｔ　ａｌ．Ｍｏｄｅｌ－ ｉｎｇ　ａｎｄ　ｓｉｍｕｌａｔｉｏｎ　ｔｅｃｈｎｏｌｏｇｙ　ｉｎ　ｄｉｇｉｔａｌ　ｍａｎｕｆａｃｔｕｒｉｎｇ［Ｊ］． Ｃｈｉｎｅｓｅ　Ｊｏｕｒｎａｌ　ｏｆ　Ｍｅｃｈａｎｉｃａｌ　Ｅｎｇｉｎｅｅｒｉｎｇ，２００６，４２（７）：１３２－ １３７（ｉｎ　Ｃｈｉｎｅｓｅ）．［宁汝新，刘检华，唐承统．数字化制 造 中 的 建 模 和 仿 真 技 术 ［Ｊ］．机 械 工 程 学 报 ，２００６，４２（７）：１３２－１３７．］
［３］　ＬＩＵ　Ｄａｔｏｎｇ，ＧＵＯ　Ｋａｉ，ＷＡＮＧ　Ｂｅｎｋｕａｎ，ｅｔ　ａｌ．Ｓｕｍｍａｒｙ ａｎｄ　ｐｅｒｓｐｅｃｔｉｖｅ　ｓｕｒｖｅｙ　ｏｎ　ｄｉｇｉｔａｌ　ｔｗｉｎ　ｔｅｃｈｎｏｌｏｇｙ［Ｊ］．Ｊｏｕｒｎａｌ ｏｆ　Ｉｎｓｔｒｕｍｅｎｔａｔｉｏｎ，２０１８，３９（１１）：１－１０（ｉｎ　Ｃｈｉｎｅｓｅ）．［刘 大 同， 郭　凯，王本宽，等．数字孪生技术综述与展望［Ｊ］．仪器仪 表 学 报 ，２０１８，３９（１１）：１－１０．］
［４］　ＬＩ　Ｘｉｎ，ＬＩＵ　Ｌｉｕ，ＷＡＮ　Ｘｉｎｘｉｎ．Ｏｖｅｒｖｉｅｗ　ｏｆ　ｄｉｇｉｔａｌ　ｔｗｉｎｓ　ａｐ－ ｐｌｉｃａｔｉｏｎ　ａｎｄ　ｓａｆｅ　ｄｅｖｅｌｏｐｍｅｎｔ［Ｊ］．Ｊｏｕｒｎａｌ　ｏｆ　Ｓｙｓｔｅｍ　Ｓｉｍｕｌａ－ ｔｉｏｎ，２０１９，３１（３）：３８５－３９２（ｉｎ　Ｃｈｉｎｅｓｅ）．［李 　 欣，刘 　 秀，万 欣 欣 ．数 字 孪 生 应 用 及 安 全 发 展 综 述 ［Ｊ］．系 统 仿 真 学 报 ，２０１９，３１ （３）：３８５－３９２．］
［５］　 ＭＯＮＯＳＴＯＲＩ　Ｌ，ＫＤＲ　Ｂ，ＢＡＵＥＲＮＨＡＮＳＬ　Ｔ，ｅｔ　ａｌ． Ｃｙｂｅｒ－ｐｈｙｓｉｃａｌ　ｓｙｓｔｅｍｓ　ｉｎ　ｍａｎｕｆａｃｔｕｒｉｎｇ［Ｊ］．ＣＩＲＰ　Ａｎｎａｌｓ － Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｔｅｃｈｎｏｌｏｇｙ，２０１６，６５（２）：６２１－６４１．
［６］　ＲＯＳＥＮ　Ｒ，ＶＯＮ　ＷＩＣＨＥＲＴ　Ｇ，ＬＯ　Ｇ，ｅｔ　ａｌ．Ａｂｏｕｔｔｈｅ　ｉｍ－ ｐｏｒｔａｎｃｅ　ｏｆ　ａｕｔｏｎｏｍｙ　ａｎｄ　ｄｉｇｉｔａｌ　ｔｗｉｎｓ　ｆｏｒ　ｔｈｅ　ｆｕｔｕｒｅ　ｏｆ　ｍａｎｕ－ ｆａｃｔｕｒｉｎｇ［Ｊ］．ＩＦＡＣ—Ｐａｐｅｒｓ　ｏｎ　Ｌｉｎｅ，２０１５，４８（３）：５６７－５７２．
［７］　ＴＡＯ　Ｆｅｉ，ＺＨＡＮＧ　Ｍｅｎｇ，ＣＨＥＮＧ　Ｊｉａｎｇｆｅｎｇ，ｅｔ　ａｌ．Ｄｉｇｉｔａｌ ｔｗｉｎ　ｗｏｒｋｓｈｏｐ：ａ　ｎｅｗ　ｐａｒａｄｉｇｍ　ｆｏｒ　ｆｕｔｕｒｅ　ｗｏｒｋｓｈｏｐ［Ｊ］．Ｃｏｍ－ ｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ　Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｓｙｓｔｅｍｓ，２０１７，２３（１）：１－９（ｉｎ Ｃｈｉｎｅｓｅ）．［陶 　 飞，张 　 萌，程 江 峰，等．数 字 孪 生 车 间———一 种未来车 间 运 行 新 模 式 ［Ｊ］．计 算 机 集 成 制 造 系 统，２０１７，２３ （１）：１－９．］
［８］　ＴＡＯ　Ｆｅｉ，ＣＨＥＮＧ　Ｙｉｎｇ，ＣＨＥＮＧ　Ｊｉａｎｇｆｅｎｇ，ｅｔ　ａｌ．Ｔｈｅｏｒｉｅｓ ａｎｄ　ｔｅｃｈｎｏｌｏｇｉｅｓ　ｆｏｒ　ｃｙｂｅｒ－ｐｈｙｓｉｃａｌ　ｆｕｓｉｏｎ　ｉｎ　ｄｉｇｉｔａｌ　ｔｗｉｎ　ｓｈｏｐ－ ｆｌｏｏｒ［Ｊ］．Ｃｏｍｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ　Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｓｙｓｔｅｍｓ，２０１７， ２３（８）：１６０３－１６１１（ｉｎ　Ｃｈｉｎｅｓｅ）．［陶 　 飞，程 　 颖，程 江 峰，等 数 字孪生车间信息物理融合理论 与 技 术 ［Ｊ］．计 算 机 集 成 制 造 系 统 ，２０１７，２３（８）：１６０３－１６１１．］
［９］　ＣＨＥＮ　Ｚｈｅｎ，ＤＩＮＧ　Ｘｉａｏ，ＴＡＮＧ　Ｊｉａｎｊｕｎ，ｅｔ　ａｌ．Ｄｉｇｉｔａｌ　ｔｗｉｎ－ ｂａｓｅｄ　ｐｒｏｄｕｃｔｉｏｎ　ｍａｎａｇｅｍｅｎｔ　ａｎｄ　ｃｏｎｔｒｏｌ　ｍｏｄｅ　ｆｏｒ　ａｉｒｃｒａｆｔ　ａｓ－ ｓｅｍｂｌｙ　ｓｈｏｐ－ｆｌｏｏｒ［Ｊ］．Ａｅｒｏｎａｕｔｉｃａｌ　Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｔｅｃｈｎｏｌｏ－ ｇｙ，２０１８，６１（１２）：４６－５０，５８（ｉｎ　Ｃｈｉｎｅｓｅ）．［陈 　 振，丁 　 晓，唐 健钧，等．基 于 数 字 孪 生 的 飞 机 装 配 车 间 生 产 管 控 模 式 探 索

［Ｊ］．航 空 制 造 技 术 ，２０１８，６１（１２）：４６－５０，５８．］ ［１０］　ＺＨＵＡＮＧ　Ｃｕｎｂｏ．ＬＩＵ　Ｊｉａｎｈｕａ，ＸＩＯＮＧ　Ｈｕｉ，ｅｔ　ａｌ．Ｃｏｎｎｏ－
ｔａｔｉｏｎ，ａｒｃｈｉｔｅｃｔｕｒｅ　ａｎｄ　ｔｒｅｎｄｓ　ｏｆ　ｐｒｏｄｕｃｔ　ｄｉｇｉｔａｌ　ｔｗｉｎ［Ｊ］． Ｃｈｉｎｅｓｅ　Ｊｏｕｒｎａｌ　ｏｆ　Ｍｅｃｈａｎｉｃａｌ　Ｅｎｇｉｎｅｅｒｉｎｇ，２０１７，２３（４）：７５３－ ７６８（ｉｎ　Ｃｈｉｎｅｓｅ）．［庄存波，刘检华，熊　辉，等．产 品 数 字 孪 生 体的内涵、体系结构及其发展趋势［Ｊ］．计算机集成制 造 系 统， ２０１７，２３（４）：７５３－７６８．］ ［１１］　ＧＵＯ　Ｄｏｎｇｓｈｅｎｇ，ＢＡＯ　Ｊｉｎｓｏｎｇ，ＳＨＩ　Ｇｏｎｇｗｅｉ，ｅｔ　ａｌ．Ｒｅ－ ｓｅａｒｃｈ　ｏｎ　ｍｏｄｅｌｉｎｇ　ｏｆ　ａｅｒｏｓｐａｃｅ　ｓｔｒｕｃｔｕｒａｌ　ｐａｒｔｓ　ｍａｎｕｆａｃｔｕｒ－ ｉｎｇ　ｗｏｒｋｓｈｏｐ　ｂａｓｅｄ　ｏｎ　ｄｉｇｉｔａｌ　ｔｗｉｎ［Ｊ］．Ｊｏｕｒｎａｌ　ｏｆ　Ｄｏｎｇｈｕａ Ｕｎｉｖｅｒｓｉｔｙ：Ｎａｔｕｒａｌ　Ｓｃｉｅｎｃｅ　Ｅｄｉｔｉｏｎ，２０１８，４４（４）：５７８－５８５， ６０７（ｉｎ　Ｃｈｉｎｅｓｅ）．［郭东升，鲍劲松，史恭威，等．基 于 数 字 孪 生 的航天结构件制造车间建 模 研 究 ［Ｊ］．东 华 大 学 学 报：自 然 科 学 版 ，２０１８，４４（４）：５７８－５８５，６０７．］ ［１２］　ＮＩＥ　Ｚｈｉ，ＬＥＮＧ　Ｓｈｅｎｇ，ＹＥ　Ｗｅｎｈｕａ，ｅｔ　ａｌ．Ｄｅｖｅｌｏｐｍｅｎｔ　ｏｆ ｄａｔａ　ｃｏｌｌｅｃｔｉｏｎ　ａｎｄ　ｍａｎａｇｅｍｅｎｔ　ｉｎ　ｎｕｍｅｒｉｃａｌ　ｗｏｒｋｓｈｏｐ　ｂａｓｅｄ ｏｎ　ｉｎｔｅｒｎｅｔ　ｏｆ　ｔｈｉｎｇｓ［Ｊ］．Ｍａｃｈｉｎｅ　Ｂｕｉｌｄｉｎｇ　＆ Ａｕｔｏｍａｔｉｏｎ， ２０１５，４４（４）：９８－１０１（ｉｎ　Ｃｈｉｎｅｓｅ）．［聂 　 志，冷 　 晟，叶 文 华， 等．基于物联网技术的数字 化 车 间 制 造 数 据 采 集 与 管 理 ［Ｊ］． 机 械 制 造 与 自 动 化 ，２０１５，４４（４）：９８－１０１．］ ［１３］　ＣＡＯ　Ｗｅｉ，ＪＩＡＮＧ　Ｐｉｎｇｙｕ，ＪＩＡＮＧ　Ｋａｉｙｏｎｇ，ｅｔ　ａｌ．Ｒａｄｉｏ ｆｒｅｑｕｅｎｃｙ　ｉｄｅｎｔｉｆｉｃａｔｉｏｎ－ｂａｓｅｄ　ｒｅａｌ－ｔｉｍｅ　ｄａｔａ　ｃｏｌｌｅｃｔｉｎｇ　ａｎｄ ｖｉｓｕａｌ　ｍｏｎｉｔｏｒｉｎｇ　ｆｏｒ　ｄｉｓｃｒｅｔｅ　ｍａｎｕｆａｃｔｕｒｉｎｇ　ｗｏｒｋｓｈｏｐ［Ｊ］． Ｃｏｍｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ　Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｓｙｓｔｅｍｓ，２０１７，２３（２）： ２７３－２８４（ｉｎ　Ｃｈｉｎｅｓｅ）．［曹 　 伟，江 平 宇，江 开 勇，等．基 于 ＲＦＩＤ 技术的离散制造车间实时 数 据 采 集 与 可 视 化 监 控 方 法 ［Ｊ］．计 算 机 集 成 与 制 造 系 统 ，２０１７，２３（２）：２７３－２８４．］ ［１４］　ＧＵＯ　Ｌｅｉ，ＣＨＥＮ　Ｘｉｎｇｙｕ，ＺＨＡＮＧ　Ｙａｎｌｏｎｇ，ｅｔ　ａｌ．Ｄａｔａ ｃｏｌｌｅｃｔｉｏｎ　ａｎｄ　ｔｒａｎｓｍｉｓｓｉｏｎ　ｍｅｔｈｏｄ　ｆｏｒ　ｗｏｒｋｓｈｏｐ　ｐｒｏｄｕｃｔｉｏｎ ｉｎ　ｉｎｔｅｌｌｉｇｅｎｔ　ｍａｎｕｆａｃｔｕｒｉｎｇ　ｔｅｒｍｉｎａｌ［Ｊ］．Ｍａｃｈｉｎｅｒｙ　＆ Ｅｌｅｃ－ ｔｒｏｎｉｃｓ，２０１９，３７（８）：２１－２４（ｉｎ　Ｃｈｉｎｅｓｅ）．［郭 　 磊，陈 兴 玉，张 燕龙，等．面向智 能 制 造 终 端 的 车 间 生 产 数 据 采 集 与 传 输 方 法 ［Ｊ］．机 械 与 电 子 ，２０１９，３７（８）：２１－２４．］ ［１５］　ＹＩＮ　Ｑｉｎｇｗｅｎ，ＳＨＩ　Ｚｈｉｙｕａｎ，ＣＨＥＮ　Ｂｉｎｇ，ｅｔ　ａｌ．Ｔｈｅ　ｒｅａｌｉ－ ｚａｔｉｏｎ　ｏｆ　ｖｉｒｔｕａｌ　ｒｏａｍｉｎｇ　ｉｎ　ｄｉｇｉｔａｌ　ｆａｃｔｏｒｙ　ｔｈｒｏｕｇｈ　ｌｉｇｈｔｗｅｉｇｈｔ ｔｅｃｈｎｏｌｏｇｙ　ｉｎ　ｌａｒｇｅ　ｓｃｅｎｅ　ｃｏｍｐｌｅｘ　３Ｄ ｍｏｄｅｌ［Ｊ］．Ｅｑｕｉｐｍｅｎｔ Ｍａｎｕｆａｃｔｕｒｉｎｇ　ａｎｄ　Ｅｄｕｃａｔｉｏｎ，２０１７，３１（１）：２６－３０（ｉｎ　Ｃｈｉ－ ｎｅｓｅ）．［殷庆文，石致远，陈 　 兵，等．大 场 景 复 杂 三 维 模 型 轻 量化技术 实 现 数 字 化 工 厂 虚 拟 漫 游 ［Ｊ］．装 备 制 造 与 教 育， ２０１７，３１（１）：２６－３０．］ ［１６］　ＹＩ　Ｙａｎｇ，ＬＩＵ　Ｘｉａｏｊｕｎ，ＦＥＮＧ　Ｊｉｎｄａｎ，ｅｔ　ａｌ．Ｒｅｐｒｅｓｅｎｔａｔｉｏｎ ａｎｄ　ｇｅｎｅｒａｔｉｏｎ　ｍｅｔｈｏｄ　ｏｆ　ｄｉｇｉｔａｌ　ｔｗｉｎ－ｏｒｉｅｎｔｅｄ　ｐｒｏｄｕｃｔ　ｓｋｉｎ ｍｏｄｅｌ［Ｊ］．Ｃｏｍｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ　Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｓｙｓｔｅｍｓ， ２０１９，２５（６）：１４５４－１４６２（ｉｎ　Ｃｈｉｎｅｓｅ）．［易 　 扬，刘 晓 军，冯 锦 丹 ，等 ．面 向 数 字 孪 生 的 产 品 表 面 模 型 表 达 与 生 成 方 法 ［Ｊ］．计 算 机 集 成 制 造 系 统 ，２０１９，２５（６）：１４５４－１４６２．］ ［１７］　ＬＩＵ　Ｍｉｎｇｚｈｏｕ，ＷＡＮＧ　Ｑｉａｎｇ．ＬＩＮＧ　Ｌｉｎ．Ｒｅｓｅａｒｃｈ　ａｎｄ　ｉｍ－ ｐｌｅｍｅｎｔａｔｉｏｎ　ｏｆ　ｗｏｒｋｓｈｏｐ　ｏｐｅｒａｔｉｏｎ　ｄａｓｈｂｏａｒｄ　ｂａｓｅｄ　ｏｎ　ｒｅａｌ－ ｔｉｍｅ　ｉｎｆｏｒｍａｔｉｏｎ　ｄｒｉｖｅｎ［Ｊ］．Ｃｏｍｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ　Ｍａｎｕｆａｃ－ ｔｕｒｉｎｇ　Ｓｙｓｔｅｍｓ，２０１５，２１（８）：２０５２－２０６２（ｉｎ　Ｃｈｉｎｅｓｅ）．［刘 明 周，王　强，凌　琳．基于实时 信 息 驱 动 的 生 产 车 间 运 行 驾 驶

第２期

魏一雄 等：基于实时数据驱动的数字孪生车间研究及实现

３６３

舱研 究 及 实 现 ［Ｊ］．计 算 机 集 成 制 造 系 统，２０１５，２１（８）： ２０５２－２０６２．］ ［１８］　ＤＩＮＧ　Ｋａｉ，ＺＨＡＮＧ　Ｘｕｄｏｎｇ，ＺＨＯＵ　Ｇｕａｎｇｈｕｉ，ｅｔ　ａｌ．Ｄｉｇｉｔ－ ａｌ　ｔｗｉｎ－ｂａｓｅｄ　ｍｕｌｔｉ－ｄｉｍｅｎｓｉｏｎａｌ　ａｎｄ　ｍｕｌｔｉ－ｓｃａｌｅ　ｍｏｄｅｌｉｎｇ　ｏｆ ｓｍａｒｔ　ｍａｎｕｆａｃｔｕｒｉｎｇ　ｓｐａｃｅｓ［Ｊ］．Ｃｏｍｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ　Ｍａｎｕ－ ｆａｃｔｕｒｉｎｇ　Ｓｙｓｔｅｍｓ，２０１９，２５（６）：１４９１－１５０４（ｉｎ　Ｃｈｉｎｅｓｅ）．［丁 　凯，张旭东，周光 辉，等．基 于 数 字 孪 生 的 多 维 多 尺 度 智 能 制造空间及其建 模 方 法 ［Ｊ］．计 算 机 集 成 制 造 系 统 ，２０１９，２５ （６）：１４９１－１５０４．］ ［１９］　ＹＩＮ　Ｃｈａｏ，ＺＨＡＮＧ　Ｆｅｉ，ＬＩ　Ｘｉａｏｂｉｎ，ｅｔ　ａｌ．Ｖｉｓｕａｌｉｚａｔｉｏｎ　ｄｙ－ ｎａｍｉｃ　ｍｏｎｉｔｏｒｉｎｇ　ｓｙｓｔｅｍ　ｏｆ　ｐｒｏｄｕｃｔｉｏｎ　ｅｘｅｃｕｔｉｏｎ　ｆｏｒ　ｍｕｌｔｉ－ ｖａｒｉｅｔｙ　ａｎｄ　ｓｍａｌｌ－ｂａｔｃｈ　ｊｏｂ　ｓｈｏｐ［Ｊ］．Ｃｏｍｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｓｙｓｔｅｍｓ，２０１３，１９（１）：４６－５４（ｉｎ　Ｃｈｉｎｅｓｅ）．［尹 　超，张　飞，李孝 斌，等．多 品 种 小 批 量 机 加 车 间 生 产 任 务 执行情况 可 视 化 动 态 监 控 系 统 ［Ｊ］．计 算 机 集 成 制 造 系 统， ２０１３，１９（１）：４６－５４．］ ［２０］　ＪＩＡＮＧ　Ｋａｎｇ，ＫＥ　Ｒｏｎｇ，ＺＨＡＯ　Ｘｉａｏｙｏｎｇ，ｅｔ　ａｌ．Ｓｔｕｄｙ　ｏｎ ｖｉｒｔｕａｌ　ｍｏｎｉｔｏｒｉｎｇ　ｓｙｓｔｅｍ　ｆｏｒ　ｄｉｇｉｔａｌ　ｗｏｒｋｓｈｏｐ［Ｊ］．Ａｅｒｏｎａｕ－ ｔｉｃａｌ　Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｔｅｃｈｎｏｌｏｇｙ，２０１６（２０）：９７－１００，１０４（ｉｎ Ｃｈｉｎｅｓｅ）．［姜　康，柯　榕，赵小勇，等．数 字 化 车 间 虚 拟 监 控 系 统 研 究 ［Ｊ］．航 空 制 造 技 术 ，２０１６（２０）：９７－１００，１０４．］ ［２１］　ＦＡＮＧ　Ｌｅｉ，ＬＩ　Ｄｅｂａｏ，ＴＡＮＧ　Ｈｕｏｈｏｎｇ，ｅｔ　ａｌ．Ｒｅｓｅａｒｃｈ　ａｎｄ ｒｅａｌｉｚａｔｉｏｎ　ｏｆ　ｒｅａｌ－ｔｉｍｅ　ｍｏｎｉｔｏｒｉｎｇ　ｓｙｓｔｅｍ　ｆｏｒ　ｄｉｇｉｔａｌ　ｆａｃｔｏｒｙ ｓｔａｔｕｓ［Ｊ］．Ｍｏｄｕｌａｒ　Ｍａｃｈｉｎｅ　Ｔｏｏｌ　＆ Ａｕｔｏｍａｔｉｃ　Ｍａｎｕｆａｃｔｕｒ－ ｉｎｇ　Ｔｅｃｈｎｉｑｕｅ，２０１７（１２）：１１７－１２０，１２４（ｉｎ　Ｃｈｉｎｅｓｅ）．［方 　 磊 ，

李德宝，唐火红，等．数字化车 间 生 产 状 态 实 时 监 测 系 统 的 研 究与实现［Ｊ］．组 合 机 床 与 自 动 化 加 工 技 术 ，２０１７（１２）：１１７－ １２０，１２４．］ ［２２］　ＬＩＵ　Ｌｉｎｙａｎ，ＤＵ　Ｈｏｎｇｘｉａｎｇ，ＷＡＮＧ　Ｈｕｉｆｅｎ，ｅｔ　ａｌ．Ｃｏｎ－ ｓｔｒｕｃｔｉｏｎ　ａｎｄ　ａｐｐｌｉｃａｔｉｏｎ　ｏｆ　ｄｉｇｉｔａｌ　ｔｗｉｎ　ｓｙｓｔｅｍ　ｆｏｒ　ｐｒｏｄｕｃｔｉｏｎ ｐｒｏｃｅｓｓ　ｉｎ　ｗｏｒｋｓｈｏｐ［Ｊ］．Ｃｏｍｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ　Ｍａｎｕｆａｃｔｕｒｉｎｇ Ｓｙｓｔｅｍｓ，２０１９，２５（６）：１５３６－１５４５（ｉｎ　Ｃｈｉｎｅｓｅ）．［柳 林 燕，杜 宏 祥，汪惠芬，等．车间生产过 程 数 字 孪 生 系 统 构 建 及 应 用 ［Ｊ］． 计 算 机 集 成 制 造 系 统 ，２０１９，２５（６）：１５３６－１５４５．］ ［２３］　ＺＨＡＯ　Ｈａｏｒａｎ，ＬＩＵ　Ｊｉａｎｈｕａ，ＸＩＯＮＧ　Ｈｕｉ，ｅｔ　ａｌ．３Ｄｖｉｓｕａｌ－ ｉｚａｔｉｏｎ　ｒｅａｌ－ｔｉｍｅ　ｍｏｎｉｔｏｒｉｎｇ　ｍｅｔｈｏｄ　ｆｏｒ　ｄｉｇｉｔａｌ　ｔｗｉｎ　ｗｏｒｋｓｈｏｐ ［Ｊ］．Ｃｏｍｐｕｔｅｒ　Ｉｎｔｅｇｒａｔｅｄ　Ｍａｎｕｆａｃｔｕｒｉｎｇ　Ｓｙｓｔｅｍｓ，２０１９，２５ （６）：１４３２－１４４３（ｉｎ　Ｃｈｉｎｅｓｅ）．［赵 浩 然，刘 检 华，熊 　 辉，等．面 向数字孪生车间的三维可视化实时监控方法［Ｊ］．计算 机 集 成 制 造 系 统 ，２０１９，２５（６）：１４３２－１４４３．］ ［２４］　 ＷＥＩ　Ｙｉｘｉｏｎｇ，ＣＨＥＮ　Ｌｉａｎｇｘｉ，ＺＨＡＮＧ　Ｙａｎｌｏｎｇ，ｅｔ　ａｌ．Ｐｒｏ－ ｄｕｃｔｉｏｎ－ｏｒｉｅｎｔｅｄ　ｄｉｇｉｔａｌ　ｔｗｉｎ　ｓｙｓｔｅｍ：Ｃｈｉｎａ，１１０３４７１３１Ａ［Ｐ］． ２０１９－１０－１８（ｉｎ　Ｃｈｉｎｅｓｅ）．［魏 一 雄 ，陈 亮 希 ，张 燕 龙 ，等 ．面 向 生 产 的 数 字 孪 生 系 统 ：中 国 ，１１０３４７１３１Ａ［Ｐ］．２０１９－１０－１８．］ ［２５］　ＣＨＥＮ　Ｌｉａｎｇｘｉ．ＣＨＥＮ　Ｘｉｎｇｙｕ．ＷＥＩ　Ｙｉｘｉｏｎｇ，ｅｔ．ａｌ．Ｃｏｎ－ ｓｔｒｕｃｔｉｏｎ　ｍｅｔｈｏｄ　ｏｆ　ｐｈｙｓｉｃａｌ　ｂｅｈａｖｉｏｒ　ｓｉｍｕｌａｔｉｏｎ　ｓｙｓｔｅｍ　ａｎｄ ｃｏｎｔｒｏｌ　ｍｅｔｈｏｄ　ｏｆ　ｍｏｔｉｏｎ　ｍｅｃｈａｎｉｓｍ：Ｃｈｉｎａ，１１０２２２４５０Ａ ［Ｐ］．２０１９－０９－１０（ｉｎ　Ｃｈｉｎｅｓｅ）．［陈亮希，陈 兴 玉，魏 一 雄，等． 一种物理行为仿真系统的构建方法及运动机构的控制方法： 中 国 ，１１０２２２４５０Ａ［Ｐ］．２０１９－０９－１０．］

作者简介：
魏 一 雄 （１９８８－ ），男 ，安 徽 合 肥 人 ，高 级 工 程 师 ，博 士 ，研 究 方 向 ：数 字 孪 生 、智 能 制 造 、混 合 现 实 、人 工 智 能 等 ，Ｅ－ｍａｉｌ：ｙｘ＿ｃｅｔｃ３８＠１６３．ｃｏｍ； 郭 　 磊 （１９９０－ ），男 ，陕 西 宝 鸡 人 ，助 理 工 程 师 ，硕 士 ，研 究 方 向 ：数 字 孪 生 、数 字 化 设 计 标 准 等 ，Ｅ－ｍａｉｌ：ｇｕｏｌ６２６＠１６３．ｃｏｍ； 陈 亮 希 （１９９２－ ），男 ，湖 南 常 德 人 ，助 理 工 程 师 ，硕 士 ，研 究 方 向 ：机 器 视 觉 、智 能 制 造 等 ，Ｅ－ｍａｉｌ：５３５１３７８３０＠ｑｑ．ｃｏｍ； 张 红 旗 （１９７５－ ），男 ，安 徽 合 肥 人 ，研 究 员 ，博 士 ，研 究 方 向 ：数 字 样 机 技 术 、数 字 化 设 计 与 制 造 标 准 等 ，Ｅ－ｍａｉｌ：ｐｒｏｅｆａｎ＠１６３．ｃｏｍ； 　 ＋ 胡 祥 涛 （１９８１－ ），男 ，安 徽 桐 城 人 ，研 究 员 ，博 士 ，研 究 方 向 ：智 能 仓 储 与 物 流 、智 能 工 厂 、机 器 人 等 ，通 信 作 者 ，Ｅ－ｍａｉｌ：ｈｕｓｔ＿ｈｏｏ＠１６３．ｃｏｍ； 周 红 桥 （１９８０－ ），男 ，湖 北 汉 川 人 ，研 究 员 ，博 士 ，研 究 方 向 ：数 字 样 机 技 术 、混 合 现 实 等 ，Ｅ－ｍａｉｌ：ｖｃｍｆｃ４２３＠１６３．ｃｏｍ； 李 　 广 （１９７５－ ），男 ，安 徽 肥 西 人 ，工 程 师 ，研 究 方 向 ：智 能 制 造 、软 件 架 构 设 计 等 ，Ｅ－ｍａｉｌ：ｆｌｙｇｅｎｅｒａｌ＠１２６．ｃｏｍ。

